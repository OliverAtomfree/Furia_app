{% extends 'jugadores/base.html' %}
{% block titulo %}Agregar Equipo{% endblock %}
{% block contenido %}
<div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
        <div class="text-center mb-4">
          <i class="bi bi-shield-fill" style="font-size:2.5rem;color:#FFD600;"></i>
          <h1 class="fw-bold" style="color:#FFD600;">Agregar Equipo</h1>
        </div>
        <div class="card p-4 shadow-lg border-0" style="background: linear-gradient(135deg, #260D4D 60%, #7B1FA2 100%); color: #FFD600; border-radius:2rem;">
            <div class="card-body">
                    {% if messages %}
                      {% for message in messages %}
                        <div class="alert alert-success alert-dismissible fade show" role="alert" id="msg-exito">
                          {{ message }}
                          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                      {% endfor %}
                      <script>
                      document.addEventListener('DOMContentLoaded', function() {
                        setTimeout(function() {
                          var form = document.querySelector('form');
                          if (form) form.reset();
                        }, 500);
                      });
                      </script>
                    {% endif %}
        <form method="post" enctype="multipart/form-data" id="form-agregar-equipo">
          {% csrf_token %}
          <div class="row g-3">
            {% for field in form %}
            <div class="col-12">
              <label for="{{ field.id_for_label }}" class="form-label text-light fw-bold">{{ field.label }}</label>
              {{ field }}
              {% if field.errors %}
                <div class="text-danger small">{{ field.errors|striptags }}</div>
              {% endif %}
            </div>
            {% endfor %}
          </div>
          <div class="d-grid gap-2 mt-4">
            <button type="button" class="btn w-100 fw-bold py-2" style="background: linear-gradient(90deg, #FFD600 60%, #7B1FA2 100%); color: #260D4D; border-radius: 1rem; box-shadow: 0 2px 8px #260D4D;" data-bs-toggle="modal" data-bs-target="#confirmModalAgregarEquipo"><i class="bi bi-shield-fill"></i> Guardar Equipo</button>
          </div>
        </form>
        </div>
        </div>
        </div>
                <!-- Modal de confirmación -->
                <div class="modal fade" id="confirmModalAgregarEquipo" tabindex="-1" aria-labelledby="confirmModalLabelAgregarEquipo" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="confirmModalLabelAgregarEquipo" style="color: black">Confirmar registro</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                      </div>
                      <div class="modal-body" style="color: black">
                        ¿Estás seguro de que deseas guardar este equipo?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-light" id="confirmarGuardarAgregarEquipo">Sí, guardar</button>
                      </div>
                    </div>
                  </div>
                </div>
                <script>
                document.addEventListener('DOMContentLoaded', function() {
                  var btnConfirmar = document.getElementById('confirmarGuardarAgregarEquipo');
                  var form = document.getElementById('form-agregar-equipo');
                  if (btnConfirmar && form) {
                    btnConfirmar.addEventListener('click', function() {
                      form.submit();
                    });
                  }
                });
                </script>
            </div>
        </div>
    </div>
</div>
{% endblock %}
